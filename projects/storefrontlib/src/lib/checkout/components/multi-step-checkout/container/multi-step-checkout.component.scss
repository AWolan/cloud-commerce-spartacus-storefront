@import 'theme';
@import 'functions';
@import 'mixins';

// cx-multi-step-checkout color variables
$cx-multi-step-checkout-progress-bar-color: 'primary' !default;
$cx-multi-step-checkout-media-background-color: 'background' !default;
$cx-multi-step-checkout-nav-list-media-border-color: 'light' !default;
$cx-multi-step-checkout-media-border-color: 'light' !default;

.cx-multi-step-checkout {
  padding: 2.5rem 0;

  &__nav {
    @include type('4', 'semi');
    margin-bottom: 0;

    &-list {
      display: flex;
      flex-direction: row;
      list-style: none;
      padding: 0;
      margin-bottom: 0;
    }

    &-item {
      color: theme-color('text');
      padding: 0 0 1.375rem 0;

      &.progressbar {
        border-bottom: 5px solid;
        @include var-color(
          'border-bottom-color',
          $cx-multi-step-checkout-progress-bar-color
        );
      }

      &::before {
        padding: 0 0.5rem;
        content: '>';
      }

      &:first-child::before {
        content: '';
        padding: 0;
      }

      &.is-disabled {
        color: theme-color('light');
      }
    }

    &-link,
    &-link:hover {
      cursor: pointer;

      &.is-disabled {
        color: theme-color('light');
        cursor: not-allowed;
      }

      &.is-active {
        @include var-color('color', 'primary');
      }
    }

    &--media {
      @include media-breakpoint-down(md) {
        &:last-child {
          border-bottom: 1px solid;
          @include var-color(
            'border-color',
            $cx-multi-step-checkout-media-border-color
          );
        }
      }
    }

    &-list--media {
      display: none;
      @include type('3');
      text-transform: uppercase;
      justify-content: space-between;
      align-items: center;
      line-height: 4.75rem;
      min-width: 100%;
      border-top: 1px solid;
      @include var-color(
        'border-color',
        $cx-multi-step-checkout-nav-list-media-border-color
      );
      margin-bottom: 0;

      button {
        text-transform: uppercase;
        font-weight: $font-weight-bold;
      }

      @include media-breakpoint-down(md) {
        display: flex;
        padding-left: 3.5rem;
        padding-right: 3.5rem;
      }

      @include media-breakpoint-down(sm) {
        padding-left: 1.375rem;
        padding-right: 1.375rem;
      }
    }
  }

  &__place-order {
    padding: 0 1rem;

    &-form {
      display: flex;
      .form-check-input {
        min-height: 1.375rem;
        min-width: 1.375rem;
      }
    }

    button {
      margin-top: 1.25rem;
    }
  }

  // ***************************** MEDIA QUERIES *****************************

  @include media-breakpoint-down(md) {
    margin: 0;
  }

  &.container {
    @include media-breakpoint-down(md) {
      max-width: 100%;
      padding: 0;
    }
  }

  .col-md-7 {
    @include media-breakpoint-down(md) {
      padding-right: 4.375rem;
    }

    @include media-breakpoint-down(sm) {
      padding-right: 1.375rem;
      padding-left: 1.375rem;
    }
  }

  &__nav {
    &-list--media {
      &.is-active {
        @include media-breakpoint-down(md) {
          @include var-color(
            'background-color',
            $cx-multi-step-checkout-media-background-color
          );
        }
      }
    }
  }
}

// Mixin imported in the other multi-step-checkout components
@mixin checkout-media-style() {
  @include media-breakpoint-down(md) {
    margin-bottom: 2.375rem;
    @include var-color(
      'background-color',
      $cx-multi-step-checkout-media-background-color
    );
  }

  .col-md-12 {
    @include media-breakpoint-down(md) {
      padding: 0 4.375rem 1.875rem 4.375rem;
    }

    @include media-breakpoint-down(sm) {
      padding: 0 2.25rem 1.25rem 2.25rem;
    }
  }

  &.container {
    @include media-breakpoint-down(md) {
      max-width: 100%;
      margin-bottom: 0;
    }
  }

  &__btn {
    padding-bottom: 1rem;
    @include media-breakpoint-down(md) {
      padding: 0 3.5rem 1.25rem 0;
    }
    @include media-breakpoint-down(sm) {
      padding: 1.25rem;
    }
  }

  &__btns {
    @include media-breakpoint-down(md) {
      padding: 0;
    }
    .btn-action {
      @include media-breakpoint-down(sm) {
        margin-bottom: 1rem;
      }
    }
  }
}
